{"recipes":[{"name":"default.rb","path":"recipes/default.rb","checksum":"100b7564e12f89e673d9d5d898d50dba","specificity":"default"},{"name":"json_file.rb","path":"recipes/json_file.rb","checksum":"edd345e0a32575b865f011fc2b87106e","specificity":"default"}],"definitions":[],"libraries":[{"name":"helpers.rb","path":"libraries/helpers.rb","checksum":"d9682a80fc779f4c5640d73a37c27d24","specificity":"default"},{"name":"matchers.rb","path":"libraries/matchers.rb","checksum":"69fb9c5eb21adb9b52fda22a5eb3c5df","specificity":"default"}],"attributes":[{"name":"default.rb","path":"attributes/default.rb","checksum":"8c3031b97844ab3e2a195f4d6766b9c0","specificity":"default"}],"files":[{"name":"README","path":"files/default/handlers/README","checksum":"5e214b92db96dcc8dcca96b850be3bd7","specificity":"default"}],"templates":[],"resources":[{"name":"default.rb","path":"resources/default.rb","checksum":"0d717c10d4661a4cb3a5f0fbca6ac4af","specificity":"default"}],"providers":[{"name":"default.rb","path":"providers/default.rb","checksum":"525b7f2910ce648cb28b32a2a3eea016","specificity":"default"}],"root_files":[{"name":"CHANGELOG.md","path":"CHANGELOG.md","checksum":"1331698cb246bb1e04d9433dc9756db8","specificity":"default"},{"name":"CONTRIBUTING.md","path":"CONTRIBUTING.md","checksum":"b831f56636fc07e1673ad7017f12a990","specificity":"default"},{"name":"MAINTAINERS.md","path":"MAINTAINERS.md","checksum":"3c1c5a93c09531aa490bf54bfed454e2","specificity":"default"},{"name":"metadata.json","path":"metadata.json","checksum":"9f95a645d6ec08af2163102c2705b5e4","specificity":"default"},{"name":"README.md","path":"README.md","checksum":"9a1d851eb5ac1f6734002df90a521b28","specificity":"default"}],"cookbook_name":"chef_handler","metadata":{"name":"chef_handler","description":"Distribute and enable Chef Exception and Report handlers","long_description":"# chef_handler Cookbook\n[![Build Status](https://travis-ci.org/chef-cookbooks/chef_handler.svg?branch=master)](https://travis-ci.org/chef-cookbooks/chef_handler) [![Cookbook Version](https://img.shields.io/cookbook/v/chef_handler.svg)](https://supermarket.chef.io/cookbooks/chef_handler)\n\nCreates a configured handler path for distributing [Chef report and exception handlers](http://docs.chef.io/handlers.html).  Also exposes an LWRP for enabling Chef handlers from within recipe code (as opposed to hard coding in the client.rb file).  This is useful for cookbook authors who may want to ship a product specific handler (see the `cloudkick` cookbook for an example) with their cookbook.\n\n## Requirements\n### Platforms\n- Debian/Ubuntu\n- RHEL/CentOS/Scientific/Amazon/Oracle\n- Windows\n\n### Chef\n- Chef 11+\n\n### Cookbooks\n- none\n\n## Attributes\n`node['chef_handler']['handler_path']` - location to drop off handlers directory, default is a folder named 'handlers' in Chef's file cache directory\n\n## Custom Resources\n### chef_handler\nRequires, configures and enables handlers on the node for the current Chef run.  Also has the ability to pass arguments to the handlers initializer.  This allows initialization data to be pulled from a node's attribute data.\n\nIt is best to declare `chef_handler` resources early on in the compile phase so they are available to fire for any exceptions during the Chef run.  If you have a base role you would want any recipes that register Chef handlers to come first in the run_list.\n\n#### Actions\n- `:enable:` Enables the Chef handler for the current Chef run on the current node\n- `:disable:` Disables the Chef handler for the current Chef run on the current node\n\n#### Attribute Parameters\n- `class_name:` name attribute. The name of the handler class (can be module name-spaced).\n- `source:` full path to the handler file.  can also be a gem path if the handler ships as part of a Ruby gem.\n- `arguments:` an array of arguments to pass the handler's class initializer\n- `supports:` type of Chef Handler to register as, i.e. :report, :exception or both. default is `:report => true, :exception => true`\n\n#### Example\n\n```ruby\n    # register the Chef::Handler::JsonFile handler\n    # that ships with the Chef gem\n    chef_handler \"Chef::Handler::JsonFile\" do\n      source \"chef/handler/json_file\"\n      arguments :path => '/var/chef/reports'\n      action :enable\n    end\n\n    # do the same but during the compile phase\n    chef_handler \"Chef::Handler::JsonFile\" do\n      source \"chef/handler/json_file\"\n      arguments :path => '/var/chef/reports'\n      action :nothing\n    end.run_action(:enable)\n\n    # handle exceptions only\n    chef_handler \"Chef::Handler::JsonFile\" do\n      source \"chef/handler/json_file\"\n      arguments :path => '/var/chef/reports'\n      supports :exception => true\n      action :enable\n    end\n\n\n    # enable the CloudkickHandler which was\n    # dropped off in the default handler path.\n    # passes the oauth key/secret to the handler's\n    # intializer.\n    chef_handler \"CloudkickHandler\" do\n      source \"#{node['chef_handler']['handler_path']}/cloudkick_handler.rb\"\n      arguments [node['cloudkick']['oauth_key'], node['cloudkick']['oauth_secret']]\n      action :enable\n    end\n```\n\n## Usage\n### default\nPut the recipe `chef_handler` at the start of the node's run list to make sure that custom handlers are dropped off early on in the Chef run and available for later recipes.\n\nFor information on how to write report and exception handlers for Chef, please see the Chef wiki pages: [https://docs.chef.io/handlers.html](https://docs.chef.io/handlers.html)\n\n### json_file\nLeverages the `chef_handler` LWRP to automatically register the `Chef::Handler::JsonFile` handler that ships as part of Chef. This handler serializes the run status data to a JSON file located at `/var/chef/reports`.\n\n## Unit Testing\nchef_handler provides built in [chefspec](https://github.com/sethvargo/chefspec) matchers for assisting unit tests. These matchers will only be loaded if chefspec is already loaded. Following is an example of asserting against the jsonfile handler:\n\n```ruby\n  expect(runner).to enable_chef_handler(\"Chef::Handler::JsonFile\").with(\n    source: \"chef/handler/json_file\",\n    arguments: { :path => '/var/chef/reports'},\n    supports: {:exception => true}\n    )\n  end\n```\n\n## License & Authors\n**Author:** Cookbook Engineering Team ([cookbooks@chef.io](mailto:cookbooks@chef.io))\n\n**Copyright:** 2011-2016, Chef Software, Inc.\n\n```\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n```\n","maintainer":"Chef Software, Inc.","maintainer_email":"cookbooks@chef.io","license":"Apache 2.0","platforms":{},"dependencies":{},"recommendations":{},"suggestions":{},"conflicting":{},"providing":{},"replacing":{},"attributes":{},"groupings":{},"recipes":{"chef_handler":"Deploys all handlers to the handler path early during the run.","chef_handler::json_file":"Enables Chef::Handler::JsonFile to serialize run status data to /var/chef/reports."},"version":"1.3.0"},"version":"1.3.0","name":"chef_handler-1.3.0","frozen?":false,"chef_type":"cookbook_version","json_class":"Chef::CookbookVersion"}